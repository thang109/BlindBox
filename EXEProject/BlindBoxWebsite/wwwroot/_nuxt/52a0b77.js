(window.webpackJsonp=window.webpackJsonp||[]).push([[67,21],{1042:function(t,e,r){"use strict";r(6),r(7),r(5),r(4),r(11),r(8),r(12);var n=r(3);function o(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var l={props:{href:{type:String,default:""}},data:function(){return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},this.props)}},c=l,f=r(0),component=Object(f.a)(c,(function(){var t=this;return(0,t._self._c)("a",{staticClass:"text-primary cursor-pointer text-base",attrs:{href:t.href}},[t._t("default")],2)}),[],!1,null,null,null);e.a=component.exports},1043:function(t,e,r){"use strict";var n=r(0),component=Object(n.a)({},(function(){return(0,this._self._c)("p",{staticClass:"mb-4 leading-6 text-base"},[this._t("default")],2)}),[],!1,null,null,null);e.a=component.exports},1064:function(t,e,r){"use strict";r(6),r(7),r(5),r(4),r(11),r(8),r(12);var n=r(3),o=r(1043),l=r(1042);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={props:{title:{type:String,default:"",required:!1},content:{type:Array,required:!0}},data:function(){return f(f({},this.props),{},{serializers:{types:{block:o.a},marks:{link:l.a}}})}},m=r(0),component=Object(m.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"pr-0 lg:pr-14"},[e("h1",{staticClass:"mb-6 text-3xl sm:text-5xl 2xl:mb-10 2xl:text-6xl leading-tight"},[t._v("\n    "+t._s(t.title)+"\n  ")]),t._v(" "),e("div",{staticClass:"mb-4 leading-6 text-base"},[e("sanity-block-content",{attrs:{blocks:t.content,serializers:t.serializers}})],1)])}),[],!1,null,"851cd03e",null);e.a=component.exports},1259:function(t,e,r){"use strict";r.r(e);r(36);var n=r(2),o=(r(4),r(8),r(19),r(50)),l=r.n(o),c=r(296),f=r(977),d=r(1064),m=(r(6),r(7),r(5),r(11),r(12),r(3));function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var y={props:{id:{type:String,required:!0},label:{type:String,required:!0},placeholder:{type:String,required:!0},required:{type:Boolean}},data:function(){return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(m.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},this.props)},methods:{handleInput:function(t){this.$emit("input",t.target.value)}}},h=y,x=r(0),O={components:{TextInput:Object(x.a)(h,(function(){var t=this,e=t._self._c;return e("div",[e("label",{staticClass:"block font-text tracking-wide leading-6 mb-2 text-secondary-grayText text-xs uppercase",attrs:{for:t.id}},[t.required?e("span",[t._v("*")]):t._e(),t._v("\n    "+t._s(t.label)+"\n  ")]),t._v(" "),e("input",{staticClass:"block h-14 py-2 px-4 text-sm sm:text-base leading-10 w-full border border-secondary-gray rounded-sm focus:border-primary focus:outline-none placeholder:text-secondary-grayText placeholder:font-text placeholder: tracking-wide transition-colors duration-300 ease-in-out",attrs:{id:t.id,type:"text",required:t.required,placeholder:t.placeholder},on:{input:t.handleInput}})])}),[],!1,null,null,null).exports,Gap:f.default,Content:d.a},mixins:[c.a],data:function(){return{content:{},error:null,loading:!1,successfullySubmitted:!1,metaTitle:"Send a Gift Notification",metaDescription:"If youâ€™d like to let your gift recipient know a gift is on the way, simply enter their name and email below.",form:{title:"Who is receiving the gift?",fields:[{name:"giftee_name",label:"Gift Recipient's First Name",type:"text",required:!0,component:"text-input",value:""},{name:"email",label:"Gift Recipient's Email",type:"text",required:!0,component:"text-input",value:""},{name:"gifter_name",label:"Gifter's First & Last Name",type:"text",required:!0,component:"text-input",value:""},{name:"gifter_email",label:"Gifter's Email",type:"text",required:!0,component:"text-input",value:""}]}}},fetch:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.initGiftNotificationPage();case 3:t.content=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()},computed:{pageContent:function(){return!!this.content&&this.content.fields}},methods:{initGiftNotificationPage:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var content,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$nacelle.client.content({handles:["gift-notification"],type:"giftNotificationPage"}).catch((function(){return console.warn("Error loading Gift Notification Page"),null}));case 2:return content=e.sent,r=content?content[0]:null,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))()},submitForm:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,r={$source:"gift-notification"},t.form.fields.forEach((function(t){r[t.name]=t.value})),e.prev=3,e.next=6,l.a.post("".concat(t.$config.serverlessEndpoint,"/klaviyo-gift-notification"),r);case 6:200===(n=e.sent).status&&n.data.message?(t.successfullySubmitted=!0,t.resetForm()):t.error=n.data.error||"An unknown error occurred",e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),t.error=(null===(o=e.t0.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.error)||"Failed to submit form",console.error("Form submission error:",e.t0);case 14:return e.prev=14,t.loading=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,10,14,17]])})))()},resetForm:function(){this.form.fields.forEach((function(t){t.value=""})),this.$refs.gifter_form.reset(),this.error=null}}},w=Object(x.a)(O,(function(){var t=this,e=t._self._c;return t.pageContent?e("section",{staticClass:"grid grid-cols-1 px-8 m-auto max-w-4xl"},[e("gap"),t._v(" "),e("Content",{attrs:{title:t.pageContent.topContent.header,content:t.pageContent.topContent.content}}),t._v(" "),e("gap"),t._v(" "),e("form",{ref:"gifter_form",staticClass:"klaviyo klaviyo_bare_embed_XkfGTG",attrs:{id:"gifter_form",method:"post"},on:{submit:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[e("h2",{staticClass:"text-2xl sm:text-3xl capitalize mb-3"},[t._v("\n      "+t._s(t.form.title)+"\n    ")]),t._v(" "),e("div",{staticClass:"grid grid-cols-1 lg:grid-cols-2 auto-rows-auto gap-6 py-3"},t._l(t.form.fields,(function(r,n){return e("div",{key:n},[e(r.component,{tag:"component",attrs:{id:r.name,required:r.required,label:r.label?r.label:"",placeholder:r.label?r.label:"",options:r.options?r.options:null},model:{value:r.value,callback:function(e){t.$set(r,"value",e)},expression:"field.value"}})],1)})),0),t._v(" "),e("div",{staticClass:"flex justify-center"},[e("button",{staticClass:"capitalize bg-primary text-white inline-block mt-4 py-4 px-8 min-w-[200px]",attrs:{disabled:t.loading,type:"green"},on:{click:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[t._v("\n        "+t._s(t.loading?"Sending":"Send")+"\n      ")])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.error,expression:"error"}],staticClass:"flex justify-center mt-4 p-4 text-secondary-red"},[e("b",[t._v("Error")]),t._v(": "+t._s(t.error)+"\n    ")])]),t._v(" "),e("gap"),t._v(" "),e("div",{staticClass:"grid grid-cols-1 lg:grid-cols-2 auto-rows-auto"},[e("div",[e("Content",{attrs:{title:t.pageContent.bottomContent.header,content:t.pageContent.bottomContent.content}})],1),t._v(" "),e("div",{staticClass:"mt-10 lg:mt-0"},[e("nuxt-img",{attrs:{provider:"sanity",src:t.pageContent.bottomContent.previewImage.asset._id,alt:"Gifter email landingpage evergreen 2",sizes:"sm:100vw lg:50vw"}})],1)]),t._v(" "),e("div",{staticClass:"font-text text-secondary-gray text-md text-center leading-normal mb-12"},[e("sill-modal",{attrs:{"is-opened":t.successfullySubmitted,"inner-modal-class":"max-w-portal-container p-6 md:p-12"},on:{close:function(e){t.successfullySubmitted=!1}}},[e("Content",{attrs:{content:t.pageContent.successuMessage.content}})],1)],1)],1):t._e()}),[],!1,null,null,null);e.default=w.exports;installComponents(w,{Gap:r(977).default,SillModal:r(503).default})},976:function(t,e,r){var content=r(979);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(18).default)("2606db60",content,!0,{sourceMap:!1})},977:function(t,e,r){"use strict";r.r(e);var n={},o=(r(978),r(0)),component=Object(o.a)(n,(function(){return(0,this._self._c)("div",{staticClass:"gap"})}),[],!1,null,null,null);e.default=component.exports},978:function(t,e,r){"use strict";r(976)},979:function(t,e,r){var n=r(17)((function(i){return i[1]}));n.push([t.i,".gap{height:1px;margin:24px 0}@media(min-width:480px){.gap{margin:30px 0}}@media(min-width:768px){.gap{margin:36px 0}}",""]),n.locals={},t.exports=n}}]);